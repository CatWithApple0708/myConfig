// Compiled by ClojureScript 0.0-2138
goog.provide('lt.objs.eval');
goog.require('cljs.core');
goog.require('lt.util.cljs');
goog.require('crate.binding');
goog.require('lt.objs.menu');
goog.require('lt.objs.sidebar.command');
goog.require('lt.objs.files');
goog.require('lt.util.dom');
goog.require('lt.objs.platform');
goog.require('lt.objs.popup');
goog.require('lt.objs.popup');
goog.require('cljs.reader');
goog.require('crate.core');
goog.require('lt.objs.notifos');
goog.require('lt.objs.notifos');
goog.require('lt.util.dom');
goog.require('lt.objs.editor.pool');
goog.require('clojure.string');
goog.require('lt.objs.canvas');
goog.require('lt.util.cljs');
goog.require('lt.objs.platform');
goog.require('lt.objs.menu');
goog.require('lt.objs.files');
goog.require('lt.objs.clients');
goog.require('clojure.string');
goog.require('crate.binding');
goog.require('lt.objs.editor');
goog.require('lt.objs.canvas');
goog.require('lt.object');
goog.require('cljs.reader');
goog.require('lt.object');
goog.require('lt.objs.console');
goog.require('lt.objs.console');
goog.require('crate.core');
goog.require('lt.objs.clients');
goog.require('lt.objs.editor.pool');
goog.require('lt.objs.sidebar.command');
goog.require('lt.objs.editor');
/**
* @param {...*} var_args
*/
lt.objs.eval.button = (function() { 
var button__delegate = function (label,p__7214){var vec__7222 = p__7214;var cb = cljs.core.nth.call(null,vec__7222,0,null);var e__3325__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.button.right","div.button.right",629503503),label], null));var seq__7223_7229 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){if(cljs.core.truth_(cb))
{return cb.call(null);
} else
{return null;
}
})], null)));var chunk__7224_7230 = null;var count__7225_7231 = 0;var i__7226_7232 = 0;while(true){
if((i__7226_7232 < count__7225_7231))
{var vec__7227_7233 = cljs.core._nth.call(null,chunk__7224_7230,i__7226_7232);var ev__3326__auto___7234 = cljs.core.nth.call(null,vec__7227_7233,0,null);var func__3327__auto___7235 = cljs.core.nth.call(null,vec__7227_7233,1,null);lt.util.dom.on.call(null,e__3325__auto__,ev__3326__auto___7234,func__3327__auto___7235);
{
var G__7236 = seq__7223_7229;
var G__7237 = chunk__7224_7230;
var G__7238 = count__7225_7231;
var G__7239 = (i__7226_7232 + 1);
seq__7223_7229 = G__7236;
chunk__7224_7230 = G__7237;
count__7225_7231 = G__7238;
i__7226_7232 = G__7239;
continue;
}
} else
{var temp__4092__auto___7240 = cljs.core.seq.call(null,seq__7223_7229);if(temp__4092__auto___7240)
{var seq__7223_7241__$1 = temp__4092__auto___7240;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7223_7241__$1))
{var c__4262__auto___7242 = cljs.core.chunk_first.call(null,seq__7223_7241__$1);{
var G__7243 = cljs.core.chunk_rest.call(null,seq__7223_7241__$1);
var G__7244 = c__4262__auto___7242;
var G__7245 = cljs.core.count.call(null,c__4262__auto___7242);
var G__7246 = 0;
seq__7223_7229 = G__7243;
chunk__7224_7230 = G__7244;
count__7225_7231 = G__7245;
i__7226_7232 = G__7246;
continue;
}
} else
{var vec__7228_7247 = cljs.core.first.call(null,seq__7223_7241__$1);var ev__3326__auto___7248 = cljs.core.nth.call(null,vec__7228_7247,0,null);var func__3327__auto___7249 = cljs.core.nth.call(null,vec__7228_7247,1,null);lt.util.dom.on.call(null,e__3325__auto__,ev__3326__auto___7248,func__3327__auto___7249);
{
var G__7250 = cljs.core.next.call(null,seq__7223_7241__$1);
var G__7251 = null;
var G__7252 = 0;
var G__7253 = 0;
seq__7223_7229 = G__7250;
chunk__7224_7230 = G__7251;
count__7225_7231 = G__7252;
i__7226_7232 = G__7253;
continue;
}
}
} else
{}
}
break;
}
return e__3325__auto__;
};
var button = function (label,var_args){
var p__7214 = null;if (arguments.length > 1) {
  p__7214 = cljs.core.array_seq(Array.prototype.slice.call(arguments, 1),0);} 
return button__delegate.call(this,label,p__7214);};
button.cljs$lang$maxFixedArity = 1;
button.cljs$lang$applyTo = (function (arglist__7254){
var label = cljs.core.first(arglist__7254);
var p__7214 = cljs.core.rest(arglist__7254);
return button__delegate(label,p__7214);
});
button.cljs$core$IFn$_invoke$arity$variadic = button__delegate;
return button;
})()
;
lt.objs.eval.unescape_unicode = (function unescape_unicode(s){return clojure.string.replace.call(null,s,/\\x(..)/,(function (res,r){return String.fromCharCode(parseInt(r,16));
}));
});
var ev_id_7255 = cljs.core.atom.call(null,0);lt.objs.eval.append_source_file = (function append_source_file(code,file){return [cljs.core.str(code),cljs.core.str("\n\n//# sourceURL="),cljs.core.str((function (){var or__3520__auto__ = file;if(cljs.core.truth_(or__3520__auto__))
{return or__3520__auto__;
} else
{return "evalresult";
}
})()),cljs.core.str("[eval"),cljs.core.str(cljs.core.swap_BANG_.call(null,ev_id_7255,cljs.core.inc)),cljs.core.str("]")].join('');
});
lt.objs.eval.pad = (function pad(code,lines){return [cljs.core.str(cljs.core.reduce.call(null,cljs.core.str,cljs.core.repeat.call(null,lines,"\n"))),cljs.core.str(code)].join('');
});
lt.objs.eval.cljs_result_format = (function cljs_result_format(n){if(cljs.core.coll_QMARK_.call(null,n))
{return cljs.core.pr_str.call(null,n);
} else
{if(cljs.core.fn_QMARK_.call(null,n))
{return [cljs.core.str("(fn "),cljs.core.str(n.name),cljs.core.str(" ..)")].join('');
} else
{if((n == null))
{return "nil";
} else
{if(cljs.core._EQ_.call(null,cljs.core.pr_str.call(null,n),"#<[object Object]>"))
{return lt.objs.console.inspect.call(null,n);
} else
{if(new cljs.core.Keyword(null,"else","else",1017020587))
{return cljs.core.pr_str.call(null,n);
} else
{return null;
}
}
}
}
}
});
lt.objs.eval.__BEH__on_selected_cb = (function __BEH__on_selected_cb(obj,client){var cb = cljs.core.deref.call(null,obj).call(null,new cljs.core.Keyword(null,"cb","cb",1013907409));return cb.call(null,client);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","on-selected-cb","lt.objs.eval/on-selected-cb",1941170511),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__on_selected_cb,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"selected","selected",2205476365),null], null), null));
lt.objs.eval.__BEH__on_selected_destroy = (function __BEH__on_selected_destroy(obj,client){return lt.object.raise.call(null,obj,new cljs.core.Keyword(null,"destroy","destroy",2571277164));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","on-selected-destroy","lt.objs.eval/on-selected-destroy",4250002546),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__on_selected_destroy,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"selected","selected",2205476365),null], null), null));
lt.objs.eval.eval_queue = cljs.core.atom.call(null,cljs.core.PersistentVector.EMPTY);
lt.objs.eval.__BEH__queue_on_no_client = (function __BEH__queue_on_no_client(this$,queue_item){return cljs.core.swap_BANG_.call(null,lt.objs.eval.eval_queue,cljs.core.conj,queue_item);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","queue-on-no-client","lt.objs.eval/queue-on-no-client",3460059553),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__queue_on_no_client,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"no-client","no-client",4161042633),null], null), null));
lt.objs.eval.__BEH__alert_on_no_client = (function __BEH__alert_on_no_client(this$){return lt.objs.popup.popup_BANG_.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"header","header",4087600639),"No client available.",new cljs.core.Keyword(null,"body","body",1016933652),"We don't know what kind of client you want for this one. Try starting a client by choosing one of the connection types in the connect panel.",new cljs.core.Keyword(null,"buttons","buttons",1255256819),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1116631654),"Connect a client",new cljs.core.Keyword(null,"action","action",3885920680),(function (){return lt.objs.sidebar.command.exec_BANG_.call(null,new cljs.core.Keyword(null,"show-add-connection","show-add-connection",3671605196));
})], null)], null)], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","alert-on-no-client","lt.objs.eval/alert-on-no-client",3202745142),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__alert_on_no_client,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"no-client","no-client",4161042633),null], null), null));
lt.objs.eval.__BEH__queue_BANG_ = (function __BEH__queue_BANG_(this$,queue_item){return cljs.core.swap_BANG_.call(null,lt.objs.eval.eval_queue,cljs.core.conj,queue_item);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","queue!","lt.objs.eval/queue!",3205931164),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__queue_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"queue!","queue!",4360174754),null], null), null));
lt.objs.eval.drain = (function drain(queue){return cljs.core.vec.call(null,cljs.core.remove.call(null,(function (cur){var vec__7258 = cur;var _ = cljs.core.nth.call(null,vec__7258,0,null);var ___$1 = cljs.core.nth.call(null,vec__7258,1,null);var cb = cljs.core.nth.call(null,vec__7258,2,null);var vec__7259 = cljs.core.apply.call(null,lt.objs.clients.discover,cur);var result = cljs.core.nth.call(null,vec__7259,0,null);var client = cljs.core.nth.call(null,vec__7259,1,null);if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"found","found",1111526132),result))
{cb.call(null,client);
return true;
} else
{return null;
}
}),queue));
});
lt.objs.eval.__BEH__on_connect_check_queue = (function __BEH__on_connect_check_queue(this$){return cljs.core.swap_BANG_.call(null,lt.objs.eval.eval_queue,lt.objs.eval.drain);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","on-connect-check-queue","lt.objs.eval/on-connect-check-queue",2429838903),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__on_connect_check_queue,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"connect","connect",1965255772),null], null), null));
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","evaler","lt.objs.eval/evaler",3546586565),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"evaler","evaler",4017420731),null], null), null),new cljs.core.Keyword(null,"init","init",1017141378),(function (){return null;
}));
lt.objs.eval.evaler = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","evaler","lt.objs.eval/evaler",3546586565));
lt.object.add_behavior_BANG_.call(null,lt.objs.clients.clients,new cljs.core.Keyword("lt.objs.eval","on-connect-check-queue","lt.objs.eval/on-connect-check-queue",2429838903));
lt.objs.eval.try_read = (function try_read(r){try{return cljs.reader.read_string.call(null,r);
}catch (e7261){var e = e7261;return lt.objs.console.error.call(null,e);
}});
lt.objs.eval.find_client = (function find_client(p__7262){var map__7268 = p__7262;var map__7268__$1 = ((cljs.core.seq_QMARK_.call(null,map__7268))?cljs.core.apply.call(null,cljs.core.hash_map,map__7268):map__7268);var opts = map__7268__$1;var create = cljs.core.get.call(null,map__7268__$1,new cljs.core.Keyword(null,"create","create",3956577390));var key = cljs.core.get.call(null,map__7268__$1,new cljs.core.Keyword(null,"key","key",1014010321));var info = cljs.core.get.call(null,map__7268__$1,new cljs.core.Keyword(null,"info","info",1017141280));var command = cljs.core.get.call(null,map__7268__$1,new cljs.core.Keyword(null,"command","command",1964298941));var origin = cljs.core.get.call(null,map__7268__$1,new cljs.core.Keyword(null,"origin","origin",4300251800));var vec__7269 = lt.objs.clients.discover.call(null,command,info);var result = cljs.core.nth.call(null,vec__7269,0,null);var client = cljs.core.nth.call(null,vec__7269,1,null);var key__$1 = (function (){var or__3520__auto__ = key;if(cljs.core.truth_(or__3520__auto__))
{return or__3520__auto__;
} else
{return new cljs.core.Keyword(null,"default","default",2558708147);
}
})();var pred__7270 = cljs.core._EQ_;var expr__7271 = result;if(cljs.core.truth_(pred__7270.call(null,new cljs.core.Keyword(null,"none","none",1017291434),expr__7271)))
{if(cljs.core.truth_(create))
{return create.call(null,opts);
} else
{lt.objs.notifos.done_working.call(null);
lt.object.raise.call(null,lt.objs.eval.evaler,new cljs.core.Keyword(null,"no-client","no-client",4161042633),opts);
return lt.objs.clients.placeholder.call(null);
}
} else
{if(cljs.core.truth_(pred__7270.call(null,new cljs.core.Keyword(null,"found","found",1111526132),expr__7271)))
{return client;
} else
{if(cljs.core.truth_(pred__7270.call(null,new cljs.core.Keyword(null,"select","select",4402849902),expr__7271)))
{lt.object.raise.call(null,lt.objs.eval.evaler,new cljs.core.Keyword(null,"select-client","select-client",4292921646),client,(function (client__$1){lt.objs.clients.swap_client_BANG_.call(null,key__$1.call(null,new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,origin))),client__$1);
return lt.object.update_BANG_.call(null,origin,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"client","client",3951159101)], null),cljs.core.assoc,key__$1,client__$1);
}));
return lt.objs.clients.placeholder.call(null);
} else
{throw (new Error([cljs.core.str("No matching clause: "),cljs.core.str(expr__7271)].join('')));
}
}
}
});
lt.objs.eval.get_client_BANG_ = (function get_client_BANG_(p__7273){var map__7275 = p__7273;var map__7275__$1 = ((cljs.core.seq_QMARK_.call(null,map__7275))?cljs.core.apply.call(null,cljs.core.hash_map,map__7275):map__7275);var opts = map__7275__$1;var create = cljs.core.get.call(null,map__7275__$1,new cljs.core.Keyword(null,"create","create",3956577390));var key = cljs.core.get.call(null,map__7275__$1,new cljs.core.Keyword(null,"key","key",1014010321));var command = cljs.core.get.call(null,map__7275__$1,new cljs.core.Keyword(null,"command","command",1964298941));var origin = cljs.core.get.call(null,map__7275__$1,new cljs.core.Keyword(null,"origin","origin",4300251800));var key__$1 = (function (){var or__3520__auto__ = key;if(cljs.core.truth_(or__3520__auto__))
{return or__3520__auto__;
} else
{return new cljs.core.Keyword(null,"default","default",2558708147);
}
})();var cur = key__$1.call(null,new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,origin)));if(cljs.core.truth_((function (){var and__3508__auto__ = cur;if(cljs.core.truth_(and__3508__auto__))
{return lt.objs.clients.available_QMARK_.call(null,cur);
} else
{return and__3508__auto__;
}
})()))
{return cur;
} else
{var neue = lt.objs.eval.find_client.call(null,opts);lt.object.update_BANG_.call(null,origin,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"client","client",3951159101)], null),cljs.core.assoc,key__$1,neue);
lt.object.raise.call(null,origin,new cljs.core.Keyword(null,"set-client","set-client",2248164104),neue);
return neue;
}
});
lt.objs.eval.__GT_result_class = (function __GT_result_class(this$,trunc){return [cljs.core.str(new cljs.core.Keyword(null,"class","class",1108647146).cljs$core$IFn$_invoke$arity$1(this$)),cljs.core.str("-result result-mark"),cljs.core.str((cljs.core.truth_((function (){var or__3520__auto__ = new cljs.core.Keyword(null,"open","open",1017321916).cljs$core$IFn$_invoke$arity$1(this$);if(cljs.core.truth_(or__3520__auto__))
{return or__3520__auto__;
} else
{return cljs.core.not.call(null,trunc);
}
})())?" open":null))].join('');
});
lt.objs.eval.truncate_result = (function() {
var truncate_result = null;
var truncate_result__1 = (function (r){return truncate_result.call(null,r,null);
});
var truncate_result__2 = (function (r,opts){if(typeof r === 'string')
{var nl = r.indexOf("\n");var len = (((nl > -1))?nl:new cljs.core.Keyword(null,"trunc-length","trunc-length",2555961753).cljs$core$IFn$_invoke$arity$2(opts,50));if((cljs.core.count.call(null,r) > len))
{return [cljs.core.str(cljs.core.subs.call(null,r,0,len)),cljs.core.str(" \u2026")].join('');
} else
{return r;
}
} else
{return null;
}
});
truncate_result = function(r,opts){
switch(arguments.length){
case 1:
return truncate_result__1.call(this,r);
case 2:
return truncate_result__2.call(this,r,opts);
}
throw(new Error('Invalid arity: ' + arguments.length));
};
truncate_result.cljs$core$IFn$_invoke$arity$1 = truncate_result__1;
truncate_result.cljs$core$IFn$_invoke$arity$2 = truncate_result__2;
return truncate_result;
})()
;
lt.objs.eval.__GT_inline_res = (function __GT_inline_res(this$,info){var e__3325__auto__ = crate.core.html.call(null,(function (){var r = new cljs.core.Keyword(null,"result","result",4374444943).cljs$core$IFn$_invoke$arity$1(info);var truncated = lt.objs.eval.truncate_result.call(null,r,info);return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1017440956),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),crate.binding.bound.call(null,this$,((function (r,truncated){
return (function (p1__7276_SHARP_){return lt.objs.eval.__GT_result_class.call(null,p1__7276_SHARP_,truncated);
});})(r,truncated))
)], null),(cljs.core.truth_(truncated)?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.truncated","span.truncated",906070412),truncated], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.full","span.full",4619654693),r], null)], null);
})());var seq__7283_7289 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"mousewheel","mousewheel",2043515208),(function (e){return lt.util.dom.stop_propagation.call(null,e);
}),new cljs.core.Keyword(null,"click","click",1108654330),(function (e){lt.util.dom.prevent.call(null,e);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"click","click",1108654330));
}),new cljs.core.Keyword(null,"contextmenu","contextmenu",911789824),(function (e){lt.util.dom.prevent.call(null,e);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"menu!","menu!",1117686292),e);
}),new cljs.core.Keyword(null,"dblclick","dblclick",3463991820),(function (e){lt.util.dom.prevent.call(null,e);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"double-click","double-click",956590078));
})], null)));var chunk__7284_7290 = null;var count__7285_7291 = 0;var i__7286_7292 = 0;while(true){
if((i__7286_7292 < count__7285_7291))
{var vec__7287_7293 = cljs.core._nth.call(null,chunk__7284_7290,i__7286_7292);var ev__3326__auto___7294 = cljs.core.nth.call(null,vec__7287_7293,0,null);var func__3327__auto___7295 = cljs.core.nth.call(null,vec__7287_7293,1,null);lt.util.dom.on.call(null,e__3325__auto__,ev__3326__auto___7294,func__3327__auto___7295);
{
var G__7296 = seq__7283_7289;
var G__7297 = chunk__7284_7290;
var G__7298 = count__7285_7291;
var G__7299 = (i__7286_7292 + 1);
seq__7283_7289 = G__7296;
chunk__7284_7290 = G__7297;
count__7285_7291 = G__7298;
i__7286_7292 = G__7299;
continue;
}
} else
{var temp__4092__auto___7300 = cljs.core.seq.call(null,seq__7283_7289);if(temp__4092__auto___7300)
{var seq__7283_7301__$1 = temp__4092__auto___7300;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7283_7301__$1))
{var c__4262__auto___7302 = cljs.core.chunk_first.call(null,seq__7283_7301__$1);{
var G__7303 = cljs.core.chunk_rest.call(null,seq__7283_7301__$1);
var G__7304 = c__4262__auto___7302;
var G__7305 = cljs.core.count.call(null,c__4262__auto___7302);
var G__7306 = 0;
seq__7283_7289 = G__7303;
chunk__7284_7290 = G__7304;
count__7285_7291 = G__7305;
i__7286_7292 = G__7306;
continue;
}
} else
{var vec__7288_7307 = cljs.core.first.call(null,seq__7283_7301__$1);var ev__3326__auto___7308 = cljs.core.nth.call(null,vec__7288_7307,0,null);var func__3327__auto___7309 = cljs.core.nth.call(null,vec__7288_7307,1,null);lt.util.dom.on.call(null,e__3325__auto__,ev__3326__auto___7308,func__3327__auto___7309);
{
var G__7310 = cljs.core.next.call(null,seq__7283_7301__$1);
var G__7311 = null;
var G__7312 = 0;
var G__7313 = 0;
seq__7283_7289 = G__7310;
chunk__7284_7290 = G__7311;
count__7285_7291 = G__7312;
i__7286_7292 = G__7313;
continue;
}
}
} else
{}
}
break;
}
return e__3325__auto__;
});
lt.objs.eval.__BEH__result_menu_PLUS_ = (function __BEH__result_menu_PLUS_(this$,items){return cljs.core.conj.call(null,items,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1116631654),"Remove result",new cljs.core.Keyword(null,"order","order",1119910592),1,new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1116631654),"Copy result",new cljs.core.Keyword(null,"order","order",1119910592),2,new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"copy","copy",1016963815));
})], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","result-menu+","lt.objs.eval/result-menu+",3431235704),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__result_menu_PLUS_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu+","menu+",1117686302),null], null), null));
lt.objs.eval.__BEH__expand_on_click = (function __BEH__expand_on_click(this$){lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",1017321916),true], null));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"changed","changed",1752847910));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","expand-on-click","lt.objs.eval/expand-on-click",541363545),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__expand_on_click,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"expand!","expand!",3999393849),null,new cljs.core.Keyword(null,"click","click",1108654330),null], null), null));
lt.objs.eval.__BEH__shrink_on_double_click = (function __BEH__shrink_on_double_click(this$){lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",1017321916),false], null));
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"changed","changed",1752847910));
return lt.objs.editor.focus.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","shrink-on-double-click","lt.objs.eval/shrink-on-double-click",3353397618),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__shrink_on_double_click,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"double-click","double-click",956590078),null,new cljs.core.Keyword(null,"shrink!","shrink!",3083562666),null], null), null));
lt.objs.eval.__BEH__destroy_on_cleared = (function __BEH__destroy_on_cleared(this$){return lt.object.destroy_BANG_.call(null,this$);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","destroy-on-cleared","lt.objs.eval/destroy-on-cleared",4445067485),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__destroy_on_cleared,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"cleared","cleared",1870681886),null], null), null));
lt.objs.eval.__BEH__clear_mark = (function __BEH__clear_mark(this$){if(cljs.core.truth_(cljs.core.deref.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))))
{CodeMirror.off(new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),"change",new cljs.core.Keyword(null,"listener","listener",2360064038).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
CodeMirror.off(new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),"delete",new cljs.core.Keyword(null,"delete","delete",3973413149).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
new cljs.core.Keyword(null,"mark","mark",1017248319).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)).clear();
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear","clear",1108650431));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"cleared","cleared",1870681886));
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","clear-mark","lt.objs.eval/clear-mark",1960624569),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__clear_mark,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clear!","clear!",3951036134),null], null), null));
lt.objs.eval.__BEH__copy_result = (function __BEH__copy_result(this$){return lt.objs.platform.copy.call(null,new cljs.core.Keyword(null,"result","result",4374444943).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","copy-result","lt.objs.eval/copy-result",4462509297),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__copy_result,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"copy","copy",1016963815),null], null), null));
lt.objs.eval.__BEH__changed = (function __BEH__changed(this$){return new cljs.core.Keyword(null,"mark","mark",1017248319).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)).changed();
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","changed","lt.objs.eval/changed",710785568),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__changed,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"changed","changed",1752847910),null], null), null));
lt.objs.eval.__BEH__update_BANG_ = (function __BEH__update_BANG_(this$,res){var content = lt.object.__GT_content.call(null,this$);var full = lt.util.dom.$.call(null,new cljs.core.Keyword(null,".full",".full",1059540783),content);var scroll = lt.util.dom.scroll_top.call(null,full);var temp__4092__auto___7314 = lt.objs.eval.truncate_result.call(null,res);if(cljs.core.truth_(temp__4092__auto___7314))
{var t_7315 = temp__4092__auto___7314;var temp__4092__auto___7316__$1 = lt.util.dom.$.call(null,new cljs.core.Keyword(null,".truncated",".truncated",2172167874),content);if(cljs.core.truth_(temp__4092__auto___7316__$1))
{var trunc_7317 = temp__4092__auto___7316__$1;lt.util.dom.html.call(null,trunc_7317,t_7315);
} else
{}
} else
{}
lt.util.dom.html.call(null,full,res);
return lt.util.dom.scroll_top.call(null,full,scroll);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","update!","lt.objs.eval/update!",2489665524),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__update_BANG_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"update!","update!",779473898),null], null), null));
lt.objs.eval.new_line_change = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["",""], null);
lt.objs.eval.__BEH__move_mark = (function __BEH__move_mark(this$,ch){if(cljs.core.truth_(ch))
{var orig = new cljs.core.Keyword(null,"mark","mark",1017248319).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));var loc = orig.find();var cur_line = lt.objs.editor.lh__GT_line.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));if((cljs.core.not.call(null,loc)) || (cljs.core.empty_QMARK_.call(null,new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)).text)))
{return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
} else
{if((((loc.line > ch.to.line)) && (cljs.core.empty_QMARK_.call(null,clojure.string.trim.call(null,lt.objs.editor.line.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)),loc.line))))) || ((((ch.to.ch >= loc.ch)) && (cljs.core._EQ_.call(null,ch.to.line,loc.line))) || ((ch.to.line > ch.from.line))))
{lt.object.merge_BANG_.call(null,this$,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"mark","mark",1017248319),lt.objs.editor.bookmark.call(null,lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"line","line",1017226086),cur_line], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"widget","widget",4520824246),lt.object.__GT_content.call(null,this$),new cljs.core.Keyword(null,"insertLeft","insertLeft",1979827666),true], null))], null));
if(cljs.core.truth_(orig))
{return orig.clear();
} else
{return null;
}
} else
{return null;
}
}
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","move-mark","lt.objs.eval/move-mark",1501429445),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__move_mark,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"move!","move!",1117991394),null], null), null));
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","inline-result","lt.objs.eval/inline-result",1807255869),new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"double-click","double-click",956590078),null,new cljs.core.Keyword(null,"click","click",1108654330),null,new cljs.core.Keyword(null,"clear!","clear!",3951036134),null], null), null),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"inline.result","inline.result",1543983236),null,new cljs.core.Keyword(null,"inline","inline",4124874251),null], null), null),new cljs.core.Keyword(null,"init","init",1017141378),(function (this$,info){var temp__4092__auto__ = lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(info));if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;var content = lt.objs.eval.__GT_inline_res.call(null,this$,info);var delete$ = ((function (content){
return (function (_){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
});})(content))
;var listener = ((function (content,delete$){
return (function (line,change){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"move!","move!",1117991394),change);
});})(content,delete$))
;CodeMirror.on(new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(info),"change",listener);
CodeMirror.on(new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(info),"delete",delete$);
lt.object.merge_BANG_.call(null,this$,cljs.core.assoc.call(null,info,new cljs.core.Keyword(null,"listener","listener",2360064038),listener,new cljs.core.Keyword(null,"delete","delete",3973413149),delete$,new cljs.core.Keyword(null,"mark","mark",1017248319),lt.objs.editor.bookmark.call(null,ed,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"line","line",1017226086),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",1014011570).cljs$core$IFn$_invoke$arity$1(info))], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"widget","widget",4520824246),content,new cljs.core.Keyword(null,"insertLeft","insertLeft",1979827666),true], null))));
return content;
} else
{return null;
}
}));
lt.objs.eval.__BEH__inline_results = (function __BEH__inline_results(this$,res,loc,opts){var ed = new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));var type = (function (){var or__3520__auto__ = new cljs.core.Keyword(null,"type","type",1017479852).cljs$core$IFn$_invoke$arity$1(opts);if(cljs.core.truth_(or__3520__auto__))
{return or__3520__auto__;
} else
{return new cljs.core.Keyword(null,"inline","inline",4124874251);
}
})();var line = lt.objs.editor.line_handle.call(null,ed,new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc));var res_obj = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","inline-result","lt.objs.eval/inline-result",1807255869),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"ed","ed",1013907473),this$,new cljs.core.Keyword(null,"class","class",1108647146),cljs.core.name.call(null,type),new cljs.core.Keyword(null,"opts","opts",1017322386),opts,new cljs.core.Keyword(null,"result","result",4374444943),res,new cljs.core.Keyword(null,"loc","loc",1014011570),loc,new cljs.core.Keyword(null,"line","line",1017226086),line], null));var temp__4092__auto___7331 = cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,type], null));if(cljs.core.truth_(temp__4092__auto___7331))
{var prev_7332 = temp__4092__auto___7331;if(cljs.core.truth_(new cljs.core.Keyword(null,"open","open",1017321916).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,prev_7332))))
{lt.object.merge_BANG_.call(null,res_obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",1017321916),true], null));
} else
{}
lt.object.raise.call(null,prev_7332,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
} else
{}
if(cljs.core.truth_(new cljs.core.Keyword(null,"start-line","start-line",3689311729).cljs$core$IFn$_invoke$arity$1(loc)))
{var seq__7325_7333 = cljs.core.seq.call(null,cljs.core.map.call(null,(function (p1__7318_SHARP_){return cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [lt.objs.editor.line_handle.call(null,ed,p1__7318_SHARP_),type], null));
}),cljs.core.range.call(null,new cljs.core.Keyword(null,"start-line","start-line",3689311729).cljs$core$IFn$_invoke$arity$1(loc),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc))));var chunk__7327_7334 = null;var count__7328_7335 = 0;var i__7329_7336 = 0;while(true){
if((i__7329_7336 < count__7328_7335))
{var widget_7337 = cljs.core._nth.call(null,chunk__7327_7334,i__7329_7336);if(cljs.core.truth_(widget_7337))
{lt.object.raise.call(null,widget_7337,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__7338 = seq__7325_7333;
var G__7339 = chunk__7327_7334;
var G__7340 = count__7328_7335;
var G__7341 = (i__7329_7336 + 1);
seq__7325_7333 = G__7338;
chunk__7327_7334 = G__7339;
count__7328_7335 = G__7340;
i__7329_7336 = G__7341;
continue;
}
} else
{{
var G__7342 = seq__7325_7333;
var G__7343 = chunk__7327_7334;
var G__7344 = count__7328_7335;
var G__7345 = (i__7329_7336 + 1);
seq__7325_7333 = G__7342;
chunk__7327_7334 = G__7343;
count__7328_7335 = G__7344;
i__7329_7336 = G__7345;
continue;
}
}
} else
{var temp__4092__auto___7346 = cljs.core.seq.call(null,seq__7325_7333);if(temp__4092__auto___7346)
{var seq__7325_7347__$1 = temp__4092__auto___7346;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7325_7347__$1))
{var c__4262__auto___7348 = cljs.core.chunk_first.call(null,seq__7325_7347__$1);{
var G__7349 = cljs.core.chunk_rest.call(null,seq__7325_7347__$1);
var G__7350 = c__4262__auto___7348;
var G__7351 = cljs.core.count.call(null,c__4262__auto___7348);
var G__7352 = 0;
seq__7325_7333 = G__7349;
chunk__7327_7334 = G__7350;
count__7328_7335 = G__7351;
i__7329_7336 = G__7352;
continue;
}
} else
{var widget_7353 = cljs.core.first.call(null,seq__7325_7347__$1);if(cljs.core.truth_(widget_7353))
{lt.object.raise.call(null,widget_7353,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__7354 = cljs.core.next.call(null,seq__7325_7347__$1);
var G__7355 = null;
var G__7356 = 0;
var G__7357 = 0;
seq__7325_7333 = G__7354;
chunk__7327_7334 = G__7355;
count__7328_7335 = G__7356;
i__7329_7336 = G__7357;
continue;
}
} else
{{
var G__7358 = cljs.core.next.call(null,seq__7325_7347__$1);
var G__7359 = null;
var G__7360 = 0;
var G__7361 = 0;
seq__7325_7333 = G__7358;
chunk__7327_7334 = G__7359;
count__7328_7335 = G__7360;
i__7329_7336 = G__7361;
continue;
}
}
}
} else
{}
}
break;
}
} else
{}
return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"widgets","widgets",2354242081)], null),cljs.core.assoc,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,type], null),res_obj);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","inline-results","lt.objs.eval/inline-results",3940069422),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__inline_results,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.result","editor.result",4030217008),null], null), null));
lt.objs.eval.__GT_spacing = (function __GT_spacing(text){if(cljs.core.truth_(text))
{return cljs.core.first.call(null,cljs.core.re_seq.call(null,/^\s+/,text));
} else
{return null;
}
});
lt.objs.eval.__GT_underline_result = (function __GT_underline_result(this$,info){var e__3325__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),[cljs.core.str("underline-result "),cljs.core.str((cljs.core.truth_(new cljs.core.Keyword(null,"class","class",1108647146).cljs$core$IFn$_invoke$arity$1(info))?new cljs.core.Keyword(null,"class","class",1108647146).cljs$core$IFn$_invoke$arity$1(info):null))].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.spacer","span.spacer",4763675330),lt.objs.eval.__GT_spacing.call(null,lt.objs.editor.line.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(info),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",1014011570).cljs$core$IFn$_invoke$arity$1(info))))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pre","pre",1014015509),new cljs.core.Keyword(null,"result","result",4374444943).cljs$core$IFn$_invoke$arity$1(info)], null)], null));var seq__7368_7374 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (e){lt.util.dom.prevent.call(null,e);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"click","click",1108654330));
}),new cljs.core.Keyword(null,"contextmenu","contextmenu",911789824),(function (e){lt.util.dom.prevent.call(null,e);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"menu!","menu!",1117686292),e);
}),new cljs.core.Keyword(null,"dblclick","dblclick",3463991820),(function (e){lt.util.dom.prevent.call(null,e);
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"double-click","double-click",956590078));
})], null)));var chunk__7369_7375 = null;var count__7370_7376 = 0;var i__7371_7377 = 0;while(true){
if((i__7371_7377 < count__7370_7376))
{var vec__7372_7378 = cljs.core._nth.call(null,chunk__7369_7375,i__7371_7377);var ev__3326__auto___7379 = cljs.core.nth.call(null,vec__7372_7378,0,null);var func__3327__auto___7380 = cljs.core.nth.call(null,vec__7372_7378,1,null);lt.util.dom.on.call(null,e__3325__auto__,ev__3326__auto___7379,func__3327__auto___7380);
{
var G__7381 = seq__7368_7374;
var G__7382 = chunk__7369_7375;
var G__7383 = count__7370_7376;
var G__7384 = (i__7371_7377 + 1);
seq__7368_7374 = G__7381;
chunk__7369_7375 = G__7382;
count__7370_7376 = G__7383;
i__7371_7377 = G__7384;
continue;
}
} else
{var temp__4092__auto___7385 = cljs.core.seq.call(null,seq__7368_7374);if(temp__4092__auto___7385)
{var seq__7368_7386__$1 = temp__4092__auto___7385;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7368_7386__$1))
{var c__4262__auto___7387 = cljs.core.chunk_first.call(null,seq__7368_7386__$1);{
var G__7388 = cljs.core.chunk_rest.call(null,seq__7368_7386__$1);
var G__7389 = c__4262__auto___7387;
var G__7390 = cljs.core.count.call(null,c__4262__auto___7387);
var G__7391 = 0;
seq__7368_7374 = G__7388;
chunk__7369_7375 = G__7389;
count__7370_7376 = G__7390;
i__7371_7377 = G__7391;
continue;
}
} else
{var vec__7373_7392 = cljs.core.first.call(null,seq__7368_7386__$1);var ev__3326__auto___7393 = cljs.core.nth.call(null,vec__7373_7392,0,null);var func__3327__auto___7394 = cljs.core.nth.call(null,vec__7373_7392,1,null);lt.util.dom.on.call(null,e__3325__auto__,ev__3326__auto___7393,func__3327__auto___7394);
{
var G__7395 = cljs.core.next.call(null,seq__7368_7386__$1);
var G__7396 = null;
var G__7397 = 0;
var G__7398 = 0;
seq__7368_7374 = G__7395;
chunk__7369_7375 = G__7396;
count__7370_7376 = G__7397;
i__7371_7377 = G__7398;
continue;
}
}
} else
{}
}
break;
}
return e__3325__auto__;
});
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","underline-result","lt.objs.eval/underline-result",1485297066),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"inline.underline-result","inline.underline-result",1936787557),null,new cljs.core.Keyword(null,"inline","inline",4124874251),null], null), null),new cljs.core.Keyword(null,"init","init",1017141378),(function (this$,info){var content = lt.objs.eval.__GT_underline_result.call(null,this$,info);var delete$ = ((function (content){
return (function (_){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
});})(content))
;var listener = ((function (content,delete$){
return (function (line,change){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"move!","move!",1117991394),change);
});})(content,delete$))
;CodeMirror.on(new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(info),"change",listener);
CodeMirror.on(new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(info),"delete",delete$);
lt.object.merge_BANG_.call(null,this$,cljs.core.assoc.call(null,info,new cljs.core.Keyword(null,"widget","widget",4520824246),lt.objs.editor.line_widget.call(null,lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(info)),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",1014011570).cljs$core$IFn$_invoke$arity$1(info)),content,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"coverGutter","coverGutter",510635812),false,new cljs.core.Keyword(null,"above","above",1106515727),new cljs.core.Keyword(null,"above","above",1106515727).cljs$core$IFn$_invoke$arity$1(info)], null))));
return content;
}));
lt.objs.eval.__BEH__underline_results = (function __BEH__underline_results(this$,res,loc,opts){var ed = new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));var line = lt.objs.editor.line_handle.call(null,ed,new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc));var res_obj = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","underline-result","lt.objs.eval/underline-result",1485297066),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"ed","ed",1013907473),this$,new cljs.core.Keyword(null,"opts","opts",1017322386),opts,new cljs.core.Keyword(null,"result","result",4374444943),res,new cljs.core.Keyword(null,"loc","loc",1014011570),loc,new cljs.core.Keyword(null,"line","line",1017226086),line], null));var temp__4092__auto___7412 = cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"underline","underline",4281907774)], null));if(cljs.core.truth_(temp__4092__auto___7412))
{var prev_7413 = temp__4092__auto___7412;if(cljs.core.truth_(new cljs.core.Keyword(null,"open","open",1017321916).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,prev_7413))))
{lt.object.merge_BANG_.call(null,res_obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",1017321916),true], null));
} else
{}
lt.object.raise.call(null,prev_7413,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
} else
{}
if(cljs.core.truth_(new cljs.core.Keyword(null,"start-line","start-line",3689311729).cljs$core$IFn$_invoke$arity$1(loc)))
{var seq__7406_7414 = cljs.core.seq.call(null,cljs.core.map.call(null,(function (p1__7399_SHARP_){return cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [lt.objs.editor.line_handle.call(null,ed,p1__7399_SHARP_),new cljs.core.Keyword(null,"underline","underline",4281907774)], null));
}),cljs.core.range.call(null,new cljs.core.Keyword(null,"start-line","start-line",3689311729).cljs$core$IFn$_invoke$arity$1(loc),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc))));var chunk__7408_7415 = null;var count__7409_7416 = 0;var i__7410_7417 = 0;while(true){
if((i__7410_7417 < count__7409_7416))
{var widget_7418 = cljs.core._nth.call(null,chunk__7408_7415,i__7410_7417);if(cljs.core.truth_(widget_7418))
{lt.object.raise.call(null,widget_7418,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__7419 = seq__7406_7414;
var G__7420 = chunk__7408_7415;
var G__7421 = count__7409_7416;
var G__7422 = (i__7410_7417 + 1);
seq__7406_7414 = G__7419;
chunk__7408_7415 = G__7420;
count__7409_7416 = G__7421;
i__7410_7417 = G__7422;
continue;
}
} else
{{
var G__7423 = seq__7406_7414;
var G__7424 = chunk__7408_7415;
var G__7425 = count__7409_7416;
var G__7426 = (i__7410_7417 + 1);
seq__7406_7414 = G__7423;
chunk__7408_7415 = G__7424;
count__7409_7416 = G__7425;
i__7410_7417 = G__7426;
continue;
}
}
} else
{var temp__4092__auto___7427 = cljs.core.seq.call(null,seq__7406_7414);if(temp__4092__auto___7427)
{var seq__7406_7428__$1 = temp__4092__auto___7427;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7406_7428__$1))
{var c__4262__auto___7429 = cljs.core.chunk_first.call(null,seq__7406_7428__$1);{
var G__7430 = cljs.core.chunk_rest.call(null,seq__7406_7428__$1);
var G__7431 = c__4262__auto___7429;
var G__7432 = cljs.core.count.call(null,c__4262__auto___7429);
var G__7433 = 0;
seq__7406_7414 = G__7430;
chunk__7408_7415 = G__7431;
count__7409_7416 = G__7432;
i__7410_7417 = G__7433;
continue;
}
} else
{var widget_7434 = cljs.core.first.call(null,seq__7406_7428__$1);if(cljs.core.truth_(widget_7434))
{lt.object.raise.call(null,widget_7434,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__7435 = cljs.core.next.call(null,seq__7406_7428__$1);
var G__7436 = null;
var G__7437 = 0;
var G__7438 = 0;
seq__7406_7414 = G__7435;
chunk__7408_7415 = G__7436;
count__7409_7416 = G__7437;
i__7410_7417 = G__7438;
continue;
}
} else
{{
var G__7439 = cljs.core.next.call(null,seq__7406_7428__$1);
var G__7440 = null;
var G__7441 = 0;
var G__7442 = 0;
seq__7406_7414 = G__7439;
chunk__7408_7415 = G__7440;
count__7409_7416 = G__7441;
i__7410_7417 = G__7442;
continue;
}
}
}
} else
{}
}
break;
}
} else
{}
return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"widgets","widgets",2354242081)], null),cljs.core.assoc,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"underline","underline",4281907774)], null),res_obj);
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","underline-results","lt.objs.eval/underline-results",4366201201),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__underline_results,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.result.underline","editor.result.underline",541343758),null], null), null));
lt.objs.eval.__GT_exception_class = (function __GT_exception_class(this$){return [cljs.core.str("inline-exception "),cljs.core.str((cljs.core.truth_(new cljs.core.Keyword(null,"open","open",1017321916).cljs$core$IFn$_invoke$arity$1(this$))?"open":null))].join('');
});
lt.objs.eval.__GT_inline_exception = (function __GT_inline_exception(this$,info){var e__3325__auto__ = crate.core.html.call(null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1014003715),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),crate.binding.bound.call(null,this$,lt.objs.eval.__GT_exception_class)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.spacer","span.spacer",4763675330),lt.objs.eval.__GT_spacing.call(null,lt.objs.editor.line.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(info),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",1014011570).cljs$core$IFn$_invoke$arity$1(info))))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"pre","pre",1014015509),[cljs.core.str(new cljs.core.Keyword(null,"ex","ex",1013907493).cljs$core$IFn$_invoke$arity$1(info))].join('')], null)], null));var seq__7449_7455 = cljs.core.seq.call(null,cljs.core.partition.call(null,2,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"click","click",1108654330));
}),new cljs.core.Keyword(null,"contextmenu","contextmenu",911789824),(function (e){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"menu!","menu!",1117686292),e);
}),new cljs.core.Keyword(null,"dblclick","dblclick",3463991820),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"double-click","double-click",956590078));
})], null)));var chunk__7450_7456 = null;var count__7451_7457 = 0;var i__7452_7458 = 0;while(true){
if((i__7452_7458 < count__7451_7457))
{var vec__7453_7459 = cljs.core._nth.call(null,chunk__7450_7456,i__7452_7458);var ev__3326__auto___7460 = cljs.core.nth.call(null,vec__7453_7459,0,null);var func__3327__auto___7461 = cljs.core.nth.call(null,vec__7453_7459,1,null);lt.util.dom.on.call(null,e__3325__auto__,ev__3326__auto___7460,func__3327__auto___7461);
{
var G__7462 = seq__7449_7455;
var G__7463 = chunk__7450_7456;
var G__7464 = count__7451_7457;
var G__7465 = (i__7452_7458 + 1);
seq__7449_7455 = G__7462;
chunk__7450_7456 = G__7463;
count__7451_7457 = G__7464;
i__7452_7458 = G__7465;
continue;
}
} else
{var temp__4092__auto___7466 = cljs.core.seq.call(null,seq__7449_7455);if(temp__4092__auto___7466)
{var seq__7449_7467__$1 = temp__4092__auto___7466;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7449_7467__$1))
{var c__4262__auto___7468 = cljs.core.chunk_first.call(null,seq__7449_7467__$1);{
var G__7469 = cljs.core.chunk_rest.call(null,seq__7449_7467__$1);
var G__7470 = c__4262__auto___7468;
var G__7471 = cljs.core.count.call(null,c__4262__auto___7468);
var G__7472 = 0;
seq__7449_7455 = G__7469;
chunk__7450_7456 = G__7470;
count__7451_7457 = G__7471;
i__7452_7458 = G__7472;
continue;
}
} else
{var vec__7454_7473 = cljs.core.first.call(null,seq__7449_7467__$1);var ev__3326__auto___7474 = cljs.core.nth.call(null,vec__7454_7473,0,null);var func__3327__auto___7475 = cljs.core.nth.call(null,vec__7454_7473,1,null);lt.util.dom.on.call(null,e__3325__auto__,ev__3326__auto___7474,func__3327__auto___7475);
{
var G__7476 = cljs.core.next.call(null,seq__7449_7467__$1);
var G__7477 = null;
var G__7478 = 0;
var G__7479 = 0;
seq__7449_7455 = G__7476;
chunk__7450_7456 = G__7477;
count__7451_7457 = G__7478;
i__7452_7458 = G__7479;
continue;
}
}
} else
{}
}
break;
}
return e__3325__auto__;
});
lt.objs.eval.__BEH__ex_shrink_on_double_click = (function __BEH__ex_shrink_on_double_click(this$){lt.objs.editor.focus.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","ex-shrink-on-double-click","lt.objs.eval/ex-shrink-on-double-click",626922428),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__ex_shrink_on_double_click,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"double-click","double-click",956590078),null,new cljs.core.Keyword(null,"shrink!","shrink!",3083562666),null], null), null));
lt.objs.eval.__BEH__ex_clear = (function __BEH__ex_clear(this$){if(cljs.core.truth_(lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)))))
{lt.objs.editor.remove_line_widget.call(null,lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$))),new cljs.core.Keyword(null,"widget","widget",4520824246).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
} else
{}
lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear","clear",1108650431));
return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"cleared","cleared",1870681886));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","ex-clear","lt.objs.eval/ex-clear",1010359327),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__ex_clear,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"clear!","clear!",3951036134),null], null), null));
lt.objs.eval.__BEH__ex_menu_PLUS_ = (function __BEH__ex_menu_PLUS_(this$,items){return cljs.core.conj.call(null,items,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1116631654),"Remove exception",new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
})], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1116631654),"Copy exception",new cljs.core.Keyword(null,"click","click",1108654330),(function (){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"copy","copy",1016963815));
})], null));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","ex-menu+","lt.objs.eval/ex-menu+",1003388030),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__ex_menu_PLUS_,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"menu+","menu+",1117686302),null], null), null));
lt.objs.eval.__BEH__copy_exception = (function __BEH__copy_exception(this$){return lt.objs.platform.copy.call(null,new cljs.core.Keyword(null,"ex","ex",1013907493).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$)));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","copy-exception","lt.objs.eval/copy-exception",3421301619),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__copy_exception,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"copy","copy",1016963815),null], null), null));
lt.object.object_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","inline-exception","lt.objs.eval/inline-exception",2990080407),new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"double-click","double-click",956590078),null,new cljs.core.Keyword(null,"click","click",1108654330),null,new cljs.core.Keyword(null,"clear!","clear!",3951036134),null], null), null),new cljs.core.Keyword(null,"tags","tags",1017456523),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"inline.exception","inline.exception",3303739052),null,new cljs.core.Keyword(null,"inline","inline",4124874251),null], null), null),new cljs.core.Keyword(null,"init","init",1017141378),(function (this$,info){if(cljs.core.not.call(null,new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",1014011570).cljs$core$IFn$_invoke$arity$1(info))))
{return lt.objs.notifos.set_msg_BANG_.call(null,[cljs.core.str(new cljs.core.Keyword(null,"ex","ex",1013907493).cljs$core$IFn$_invoke$arity$1(info))].join(''),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",1108647146),"error"], null));
} else
{var content = lt.objs.eval.__GT_inline_exception.call(null,this$,info);lt.object.merge_BANG_.call(null,this$,cljs.core.assoc.call(null,info,new cljs.core.Keyword(null,"widget","widget",4520824246),lt.objs.editor.line_widget.call(null,lt.objs.editor.__GT_cm_ed.call(null,new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(info)),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"loc","loc",1014011570).cljs$core$IFn$_invoke$arity$1(info)),content,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"coverGutter","coverGutter",510635812),false], null))));
return content;
}
}));
lt.objs.eval.__BEH__inline_exceptions = (function __BEH__inline_exceptions(this$,ex,loc){if(cljs.core.truth_((function (){var and__3508__auto__ = ex;if(cljs.core.truth_(and__3508__auto__))
{var and__3508__auto____$1 = loc;if(cljs.core.truth_(and__3508__auto____$1))
{return (new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc) >= 0);
} else
{return and__3508__auto____$1;
}
} else
{return and__3508__auto__;
}
})()))
{var ed = new cljs.core.Keyword(null,"ed","ed",1013907473).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,this$));var line = lt.objs.editor.line_handle.call(null,ed,new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc));var ex_obj = lt.object.create.call(null,new cljs.core.Keyword("lt.objs.eval","inline-exception","lt.objs.eval/inline-exception",2990080407),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"ed","ed",1013907473),this$,new cljs.core.Keyword(null,"ex","ex",1013907493),ex,new cljs.core.Keyword(null,"loc","loc",1014011570),loc,new cljs.core.Keyword(null,"line","line",1017226086),line], null));var seq__7503_7525 = cljs.core.seq.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"inline","inline",4124874251)], null)),cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"underline","underline",4281907774)], null))], null));var chunk__7505_7526 = null;var count__7506_7527 = 0;var i__7507_7528 = 0;while(true){
if((i__7507_7528 < count__7506_7527))
{var prev_7529 = cljs.core._nth.call(null,chunk__7505_7526,i__7507_7528);if(cljs.core.truth_(prev_7529))
{if(cljs.core.truth_(new cljs.core.Keyword(null,"open","open",1017321916).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,prev_7529))))
{lt.object.merge_BANG_.call(null,ex_obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",1017321916),true], null));
} else
{}
lt.object.raise.call(null,prev_7529,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__7530 = seq__7503_7525;
var G__7531 = chunk__7505_7526;
var G__7532 = count__7506_7527;
var G__7533 = (i__7507_7528 + 1);
seq__7503_7525 = G__7530;
chunk__7505_7526 = G__7531;
count__7506_7527 = G__7532;
i__7507_7528 = G__7533;
continue;
}
} else
{{
var G__7534 = seq__7503_7525;
var G__7535 = chunk__7505_7526;
var G__7536 = count__7506_7527;
var G__7537 = (i__7507_7528 + 1);
seq__7503_7525 = G__7534;
chunk__7505_7526 = G__7535;
count__7506_7527 = G__7536;
i__7507_7528 = G__7537;
continue;
}
}
} else
{var temp__4092__auto___7538 = cljs.core.seq.call(null,seq__7503_7525);if(temp__4092__auto___7538)
{var seq__7503_7539__$1 = temp__4092__auto___7538;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7503_7539__$1))
{var c__4262__auto___7540 = cljs.core.chunk_first.call(null,seq__7503_7539__$1);{
var G__7541 = cljs.core.chunk_rest.call(null,seq__7503_7539__$1);
var G__7542 = c__4262__auto___7540;
var G__7543 = cljs.core.count.call(null,c__4262__auto___7540);
var G__7544 = 0;
seq__7503_7525 = G__7541;
chunk__7505_7526 = G__7542;
count__7506_7527 = G__7543;
i__7507_7528 = G__7544;
continue;
}
} else
{var prev_7545 = cljs.core.first.call(null,seq__7503_7539__$1);if(cljs.core.truth_(prev_7545))
{if(cljs.core.truth_(new cljs.core.Keyword(null,"open","open",1017321916).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,prev_7545))))
{lt.object.merge_BANG_.call(null,ex_obj,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"open","open",1017321916),true], null));
} else
{}
lt.object.raise.call(null,prev_7545,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__7546 = cljs.core.next.call(null,seq__7503_7539__$1);
var G__7547 = null;
var G__7548 = 0;
var G__7549 = 0;
seq__7503_7525 = G__7546;
chunk__7505_7526 = G__7547;
count__7506_7527 = G__7548;
i__7507_7528 = G__7549;
continue;
}
} else
{{
var G__7550 = cljs.core.next.call(null,seq__7503_7539__$1);
var G__7551 = null;
var G__7552 = 0;
var G__7553 = 0;
seq__7503_7525 = G__7550;
chunk__7505_7526 = G__7551;
count__7506_7527 = G__7552;
i__7507_7528 = G__7553;
continue;
}
}
}
} else
{}
}
break;
}
if(cljs.core.truth_(new cljs.core.Keyword(null,"start-line","start-line",3689311729).cljs$core$IFn$_invoke$arity$1(loc)))
{var seq__7509_7554 = cljs.core.seq.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"inline","inline",4124874251),new cljs.core.Keyword(null,"underline","underline",4281907774)], null));var chunk__7516_7555 = null;var count__7517_7556 = 0;var i__7518_7557 = 0;while(true){
if((i__7518_7557 < count__7517_7556))
{var type_7558 = cljs.core._nth.call(null,chunk__7516_7555,i__7518_7557);var seq__7519_7559 = cljs.core.seq.call(null,cljs.core.map.call(null,((function (seq__7509_7554,chunk__7516_7555,count__7517_7556,i__7518_7557,type_7558){
return (function (p1__7480_SHARP_){return cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [lt.objs.editor.line_handle.call(null,ed,p1__7480_SHARP_),type_7558], null));
});})(seq__7509_7554,chunk__7516_7555,count__7517_7556,i__7518_7557,type_7558))
,cljs.core.range.call(null,new cljs.core.Keyword(null,"start-line","start-line",3689311729).cljs$core$IFn$_invoke$arity$1(loc),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc))));var chunk__7521_7560 = null;var count__7522_7561 = 0;var i__7523_7562 = 0;while(true){
if((i__7523_7562 < count__7522_7561))
{var widget_7563 = cljs.core._nth.call(null,chunk__7521_7560,i__7523_7562);if(cljs.core.truth_(widget_7563))
{lt.object.raise.call(null,widget_7563,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__7564 = seq__7519_7559;
var G__7565 = chunk__7521_7560;
var G__7566 = count__7522_7561;
var G__7567 = (i__7523_7562 + 1);
seq__7519_7559 = G__7564;
chunk__7521_7560 = G__7565;
count__7522_7561 = G__7566;
i__7523_7562 = G__7567;
continue;
}
} else
{{
var G__7568 = seq__7519_7559;
var G__7569 = chunk__7521_7560;
var G__7570 = count__7522_7561;
var G__7571 = (i__7523_7562 + 1);
seq__7519_7559 = G__7568;
chunk__7521_7560 = G__7569;
count__7522_7561 = G__7570;
i__7523_7562 = G__7571;
continue;
}
}
} else
{var temp__4092__auto___7572 = cljs.core.seq.call(null,seq__7519_7559);if(temp__4092__auto___7572)
{var seq__7519_7573__$1 = temp__4092__auto___7572;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7519_7573__$1))
{var c__4262__auto___7574 = cljs.core.chunk_first.call(null,seq__7519_7573__$1);{
var G__7575 = cljs.core.chunk_rest.call(null,seq__7519_7573__$1);
var G__7576 = c__4262__auto___7574;
var G__7577 = cljs.core.count.call(null,c__4262__auto___7574);
var G__7578 = 0;
seq__7519_7559 = G__7575;
chunk__7521_7560 = G__7576;
count__7522_7561 = G__7577;
i__7523_7562 = G__7578;
continue;
}
} else
{var widget_7579 = cljs.core.first.call(null,seq__7519_7573__$1);if(cljs.core.truth_(widget_7579))
{lt.object.raise.call(null,widget_7579,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__7580 = cljs.core.next.call(null,seq__7519_7573__$1);
var G__7581 = null;
var G__7582 = 0;
var G__7583 = 0;
seq__7519_7559 = G__7580;
chunk__7521_7560 = G__7581;
count__7522_7561 = G__7582;
i__7523_7562 = G__7583;
continue;
}
} else
{{
var G__7584 = cljs.core.next.call(null,seq__7519_7573__$1);
var G__7585 = null;
var G__7586 = 0;
var G__7587 = 0;
seq__7519_7559 = G__7584;
chunk__7521_7560 = G__7585;
count__7522_7561 = G__7586;
i__7523_7562 = G__7587;
continue;
}
}
}
} else
{}
}
break;
}
{
var G__7588 = seq__7509_7554;
var G__7589 = chunk__7516_7555;
var G__7590 = count__7517_7556;
var G__7591 = (i__7518_7557 + 1);
seq__7509_7554 = G__7588;
chunk__7516_7555 = G__7589;
count__7517_7556 = G__7590;
i__7518_7557 = G__7591;
continue;
}
} else
{var temp__4092__auto___7592 = cljs.core.seq.call(null,seq__7509_7554);if(temp__4092__auto___7592)
{var seq__7509_7593__$1 = temp__4092__auto___7592;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7509_7593__$1))
{var c__4262__auto___7594 = cljs.core.chunk_first.call(null,seq__7509_7593__$1);{
var G__7595 = cljs.core.chunk_rest.call(null,seq__7509_7593__$1);
var G__7596 = c__4262__auto___7594;
var G__7597 = cljs.core.count.call(null,c__4262__auto___7594);
var G__7598 = 0;
seq__7509_7554 = G__7595;
chunk__7516_7555 = G__7596;
count__7517_7556 = G__7597;
i__7518_7557 = G__7598;
continue;
}
} else
{var type_7599 = cljs.core.first.call(null,seq__7509_7593__$1);var seq__7510_7600 = cljs.core.seq.call(null,cljs.core.map.call(null,((function (seq__7509_7554,chunk__7516_7555,count__7517_7556,i__7518_7557,type_7599,seq__7509_7593__$1,temp__4092__auto___7592){
return (function (p1__7480_SHARP_){return cljs.core.get.call(null,cljs.core.deref.call(null,this$).call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081)),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [lt.objs.editor.line_handle.call(null,ed,p1__7480_SHARP_),type_7599], null));
});})(seq__7509_7554,chunk__7516_7555,count__7517_7556,i__7518_7557,type_7599,seq__7509_7593__$1,temp__4092__auto___7592))
,cljs.core.range.call(null,new cljs.core.Keyword(null,"start-line","start-line",3689311729).cljs$core$IFn$_invoke$arity$1(loc),new cljs.core.Keyword(null,"line","line",1017226086).cljs$core$IFn$_invoke$arity$1(loc))));var chunk__7512_7601 = null;var count__7513_7602 = 0;var i__7514_7603 = 0;while(true){
if((i__7514_7603 < count__7513_7602))
{var widget_7604 = cljs.core._nth.call(null,chunk__7512_7601,i__7514_7603);if(cljs.core.truth_(widget_7604))
{lt.object.raise.call(null,widget_7604,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__7605 = seq__7510_7600;
var G__7606 = chunk__7512_7601;
var G__7607 = count__7513_7602;
var G__7608 = (i__7514_7603 + 1);
seq__7510_7600 = G__7605;
chunk__7512_7601 = G__7606;
count__7513_7602 = G__7607;
i__7514_7603 = G__7608;
continue;
}
} else
{{
var G__7609 = seq__7510_7600;
var G__7610 = chunk__7512_7601;
var G__7611 = count__7513_7602;
var G__7612 = (i__7514_7603 + 1);
seq__7510_7600 = G__7609;
chunk__7512_7601 = G__7610;
count__7513_7602 = G__7611;
i__7514_7603 = G__7612;
continue;
}
}
} else
{var temp__4092__auto___7613__$1 = cljs.core.seq.call(null,seq__7510_7600);if(temp__4092__auto___7613__$1)
{var seq__7510_7614__$1 = temp__4092__auto___7613__$1;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7510_7614__$1))
{var c__4262__auto___7615 = cljs.core.chunk_first.call(null,seq__7510_7614__$1);{
var G__7616 = cljs.core.chunk_rest.call(null,seq__7510_7614__$1);
var G__7617 = c__4262__auto___7615;
var G__7618 = cljs.core.count.call(null,c__4262__auto___7615);
var G__7619 = 0;
seq__7510_7600 = G__7616;
chunk__7512_7601 = G__7617;
count__7513_7602 = G__7618;
i__7514_7603 = G__7619;
continue;
}
} else
{var widget_7620 = cljs.core.first.call(null,seq__7510_7614__$1);if(cljs.core.truth_(widget_7620))
{lt.object.raise.call(null,widget_7620,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__7621 = cljs.core.next.call(null,seq__7510_7614__$1);
var G__7622 = null;
var G__7623 = 0;
var G__7624 = 0;
seq__7510_7600 = G__7621;
chunk__7512_7601 = G__7622;
count__7513_7602 = G__7623;
i__7514_7603 = G__7624;
continue;
}
} else
{{
var G__7625 = cljs.core.next.call(null,seq__7510_7614__$1);
var G__7626 = null;
var G__7627 = 0;
var G__7628 = 0;
seq__7510_7600 = G__7625;
chunk__7512_7601 = G__7626;
count__7513_7602 = G__7627;
i__7514_7603 = G__7628;
continue;
}
}
}
} else
{}
}
break;
}
{
var G__7629 = cljs.core.next.call(null,seq__7509_7593__$1);
var G__7630 = null;
var G__7631 = 0;
var G__7632 = 0;
seq__7509_7554 = G__7629;
chunk__7516_7555 = G__7630;
count__7517_7556 = G__7631;
i__7518_7557 = G__7632;
continue;
}
}
} else
{}
}
break;
}
} else
{}
return lt.object.update_BANG_.call(null,this$,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"widgets","widgets",2354242081)], null),cljs.core.assoc,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [line,new cljs.core.Keyword(null,"inline","inline",4124874251)], null),ex_obj);
} else
{return null;
}
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","inline-exceptions","lt.objs.eval/inline-exceptions",2489921844),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__inline_exceptions,new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"editor.exception","editor.exception",3983021184),null], null), null));
lt.objs.eval.__BEH__eval_on_change = (function __BEH__eval_on_change(this$){return lt.object.raise.call(null,this$,new cljs.core.Keyword(null,"eval","eval",1017029646));
});
lt.object.behavior_STAR_.call(null,new cljs.core.Keyword("lt.objs.eval","eval-on-change","lt.objs.eval/eval-on-change",2788474585),new cljs.core.Keyword(null,"reaction","reaction",4441361819),lt.objs.eval.__BEH__eval_on_change,new cljs.core.Keyword(null,"desc","desc",1016984067),"Editor: Eval when the editor changes",new cljs.core.Keyword(null,"triggers","triggers",2516997421),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"change","change",3947235106),null], null), null),new cljs.core.Keyword(null,"type","type",1017479852),new cljs.core.Keyword(null,"user","user",1017503549),new cljs.core.Keyword(null,"debounce","debounce",1556599227),300);
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"clear-inline-results","clear-inline-results",1542062004),new cljs.core.Keyword(null,"desc","desc",1016984067),"Eval: Clear inline results",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;var seq__7633 = cljs.core.seq.call(null,new cljs.core.Keyword(null,"widgets","widgets",2354242081).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed)));var chunk__7634 = null;var count__7635 = 0;var i__7636 = 0;while(true){
if((i__7636 < count__7635))
{var vec__7637 = cljs.core._nth.call(null,chunk__7634,i__7636);var _ = cljs.core.nth.call(null,vec__7637,0,null);var w = cljs.core.nth.call(null,vec__7637,1,null);lt.object.raise.call(null,w,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__7639 = seq__7633;
var G__7640 = chunk__7634;
var G__7641 = count__7635;
var G__7642 = (i__7636 + 1);
seq__7633 = G__7639;
chunk__7634 = G__7640;
count__7635 = G__7641;
i__7636 = G__7642;
continue;
}
} else
{var temp__4092__auto____$1 = cljs.core.seq.call(null,seq__7633);if(temp__4092__auto____$1)
{var seq__7633__$1 = temp__4092__auto____$1;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7633__$1))
{var c__4262__auto__ = cljs.core.chunk_first.call(null,seq__7633__$1);{
var G__7643 = cljs.core.chunk_rest.call(null,seq__7633__$1);
var G__7644 = c__4262__auto__;
var G__7645 = cljs.core.count.call(null,c__4262__auto__);
var G__7646 = 0;
seq__7633 = G__7643;
chunk__7634 = G__7644;
count__7635 = G__7645;
i__7636 = G__7646;
continue;
}
} else
{var vec__7638 = cljs.core.first.call(null,seq__7633__$1);var _ = cljs.core.nth.call(null,vec__7638,0,null);var w = cljs.core.nth.call(null,vec__7638,1,null);lt.object.raise.call(null,w,new cljs.core.Keyword(null,"clear!","clear!",3951036134));
{
var G__7647 = cljs.core.next.call(null,seq__7633__$1);
var G__7648 = null;
var G__7649 = 0;
var G__7650 = 0;
seq__7633 = G__7647;
chunk__7634 = G__7648;
count__7635 = G__7649;
i__7636 = G__7650;
continue;
}
}
} else
{return null;
}
}
break;
}
} else
{return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"eval-editor","eval-editor",2482317104),new cljs.core.Keyword(null,"desc","desc",1016984067),"Eval: Eval editor contents",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"eval","eval",1017029646));
} else
{return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"eval-editor-form","eval-editor-form",4138964197),new cljs.core.Keyword(null,"desc","desc",1016984067),"Eval: Eval a form in editor",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"eval.one","eval.one",1173589382));
} else
{return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"eval.custom","eval.custom",3328560245),new cljs.core.Keyword(null,"desc","desc",1016984067),"Eval: Eval custom expression in editor",new cljs.core.Keyword(null,"hidden","hidden",4091384092),true,new cljs.core.Keyword(null,"exec","exec",1017031683),(function (exp,opts){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;return lt.object.raise.call(null,ed,new cljs.core.Keyword(null,"eval.custom","eval.custom",3328560245),exp,opts);
} else
{return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"eval.cancel-all!","eval.cancel-all!",3689151283),new cljs.core.Keyword(null,"desc","desc",1016984067),"Eval: Cancel evaluation for the current client",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;if(cljs.core.truth_(new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed))))
{var seq__7651 = cljs.core.seq.call(null,new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed)));var chunk__7652 = null;var count__7653 = 0;var i__7654 = 0;while(true){
if((i__7654 < count__7653))
{var vec__7655 = cljs.core._nth.call(null,chunk__7652,i__7654);var _ = cljs.core.nth.call(null,vec__7655,0,null);var client = cljs.core.nth.call(null,vec__7655,1,null);lt.objs.clients.cancel_all_BANG_.call(null,client);
{
var G__7657 = seq__7651;
var G__7658 = chunk__7652;
var G__7659 = count__7653;
var G__7660 = (i__7654 + 1);
seq__7651 = G__7657;
chunk__7652 = G__7658;
count__7653 = G__7659;
i__7654 = G__7660;
continue;
}
} else
{var temp__4092__auto____$1 = cljs.core.seq.call(null,seq__7651);if(temp__4092__auto____$1)
{var seq__7651__$1 = temp__4092__auto____$1;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7651__$1))
{var c__4262__auto__ = cljs.core.chunk_first.call(null,seq__7651__$1);{
var G__7661 = cljs.core.chunk_rest.call(null,seq__7651__$1);
var G__7662 = c__4262__auto__;
var G__7663 = cljs.core.count.call(null,c__4262__auto__);
var G__7664 = 0;
seq__7651 = G__7661;
chunk__7652 = G__7662;
count__7653 = G__7663;
i__7654 = G__7664;
continue;
}
} else
{var vec__7656 = cljs.core.first.call(null,seq__7651__$1);var _ = cljs.core.nth.call(null,vec__7656,0,null);var client = cljs.core.nth.call(null,vec__7656,1,null);lt.objs.clients.cancel_all_BANG_.call(null,client);
{
var G__7665 = cljs.core.next.call(null,seq__7651__$1);
var G__7666 = null;
var G__7667 = 0;
var G__7668 = 0;
seq__7651 = G__7665;
chunk__7652 = G__7666;
count__7653 = G__7667;
i__7654 = G__7668;
continue;
}
}
} else
{return null;
}
}
break;
}
} else
{return null;
}
} else
{return null;
}
})], null));
lt.objs.sidebar.command.command.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"command","command",1964298941),new cljs.core.Keyword(null,"editor.disconnect-clients","editor.disconnect-clients",1348759402),new cljs.core.Keyword(null,"desc","desc",1016984067),"Editor: Disconnect clients attached to editor",new cljs.core.Keyword(null,"exec","exec",1017031683),(function (){var temp__4092__auto__ = lt.objs.editor.pool.last_active.call(null);if(cljs.core.truth_(temp__4092__auto__))
{var ed = temp__4092__auto__;var seq__7669 = cljs.core.seq.call(null,cljs.core.vals.call(null,new cljs.core.Keyword(null,"client","client",3951159101).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,ed))));var chunk__7670 = null;var count__7671 = 0;var i__7672 = 0;while(true){
if((i__7672 < count__7671))
{var client = cljs.core._nth.call(null,chunk__7670,i__7672);lt.objs.clients.close_BANG_.call(null,client);
{
var G__7673 = seq__7669;
var G__7674 = chunk__7670;
var G__7675 = count__7671;
var G__7676 = (i__7672 + 1);
seq__7669 = G__7673;
chunk__7670 = G__7674;
count__7671 = G__7675;
i__7672 = G__7676;
continue;
}
} else
{var temp__4092__auto____$1 = cljs.core.seq.call(null,seq__7669);if(temp__4092__auto____$1)
{var seq__7669__$1 = temp__4092__auto____$1;if(cljs.core.chunked_seq_QMARK_.call(null,seq__7669__$1))
{var c__4262__auto__ = cljs.core.chunk_first.call(null,seq__7669__$1);{
var G__7677 = cljs.core.chunk_rest.call(null,seq__7669__$1);
var G__7678 = c__4262__auto__;
var G__7679 = cljs.core.count.call(null,c__4262__auto__);
var G__7680 = 0;
seq__7669 = G__7677;
chunk__7670 = G__7678;
count__7671 = G__7679;
i__7672 = G__7680;
continue;
}
} else
{var client = cljs.core.first.call(null,seq__7669__$1);lt.objs.clients.close_BANG_.call(null,client);
{
var G__7681 = cljs.core.next.call(null,seq__7669__$1);
var G__7682 = null;
var G__7683 = 0;
var G__7684 = 0;
seq__7669 = G__7681;
chunk__7670 = G__7682;
count__7671 = G__7683;
i__7672 = G__7684;
continue;
}
}
} else
{return null;
}
}
break;
}
} else
{return null;
}
})], null));
